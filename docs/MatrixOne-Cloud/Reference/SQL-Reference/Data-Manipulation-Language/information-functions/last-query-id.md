# **LAST_QUERY_ID()**

## **语法说明**

返回当前会话中指定查询的 ID。如果未指定查询，则返回最近执行的查询。

## **语法结构**

```
> LAST_QUERY_ID([ <num> ])
```

### 参数释义

- **num**：根据当前会话中查询的位置指定要返回的查询。默认为 -1。

### 使用释义

num 为正数，即从会话中执行的第一个查询开始。例如：

- `LAST_QUERY_ID(1)`：返回第一个查询。

- `LAST_QUERY_ID(2)`：返回第二个查询。

- `LAST_QUERY_ID(6)`：返回第六个查询。

num 为负数，即从会话中最近执行的查询开始。例如：

- `LAST_QUERY_ID(-1)`：返回最近执行的查询 (相当于 LAST_QUERY_ID())。

- `LAST_QUERY_ID(-2)`：返回最近执行的第二个查询。

## **示例**

```sql
mysql> SELECT LAST_QUERY_ID(-1);
+--------------------------------------+
| last_query_id(-1)                    |
+--------------------------------------+
| af974680-b1b5-11ed-8eb9-5ad2460dea4f |
+--------------------------------------+
1 row in set (0.00 sec)

mysql> SELECT LAST_QUERY_ID();
+--------------------------------------+
| last_query_id()                      |
+--------------------------------------+
| 550e4d44-b1b5-11ed-8eb9-5ad2460dea4f |
+--------------------------------------+
1 row in set (0.00 sec)
```
